<!DOCTYPE html>
<html lang="en">
<title>Magic Keyboard Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="bootstrap/dist/css/bootstrap.css" rel="stylesheet">
<script src="bootstrap/assets/js/jquery.js"></script>

<style>
kbd {
    font-size: 14px;
    color: #555;
    display: inline-block;
    padding: 0 8px;
    text-align: center;
    margin-bottom: 6px;
    background-color: #EEE;
    background-repeat: repeat-x;
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#F5F5F5), to(#EEE));
    background-image: -webkit-linear-gradient(#F5F5F5 0%, #EEE 100%);
    background-image:    -moz-linear-gradient(#F5F5F5 0%, #EEE 100%);
    background-image:      -o-linear-gradient(#F5F5F5 0%, #EEE 100%);
    background-image:         linear-gradient(#F5F5F5 0%, #EEE 100%);
    border: 1px solid #CCC;
    -webkit-border-radius: 3px;
       -moz-border-radius: 3px;
            border-radius: 3px;
    -webkit-box-shadow: inset 0 1px 0 #FFF, 0 1px 0 #CCC;
            box-shadow: inset 0 1px 0 #FFF, 0 1px 0 #CCC;
}

.affix {
    position: fixed;
    top: 100px;
}

.help tr td:first-child {
    text-align: right;
    padding-right: 6px;
}
.disabled {
    color: #999;
}
.mk-focus:before {
    position: absolute;
    top: 0;
    width: 5px;
    background: #428BCA;
    content: ' ';
    bottom: 0;
    left: 0;
}

.active {
    background: #EEE;
}

body > .container {
    padding-top: 58px;
}
</style>
<body data-spy="scroll" data-target="#sidemenu">

<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Magic Keyboard</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#magichelp">Demo & Docs</a></li>
            <li><a href="https://github.com/brendanheywood/magic-keyboard">Source code</a></li>
            <li><a href="https://github.com/brendanheywood/magic-keyboard/issues">Issues</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

<div class="container">
  <div class="header">
<div class="jumbotron ">
    <h1 style="color: #B31EEC;">Magic Keyboard</h1>
<kbd>M</kbd> <kbd>a</kbd> <kbd>g</kbd> <kbd>i</kbd> <kbd>c</kbd>
<kbd>&nbsp;</kbd>
<kbd>K</kbd> <kbd>e</kbd> <kbd>y</kbd> <kbd>b</kbd> <kbd>o</kbd> <kbd>a</kbd> <kbd>r</kbd> <kbd>d</kbd> 

<p>Easily build or retrofit awesome keyboard navigation into your app with minimal markup and no code<p>

<p>BONUS: get automatically generated help modal for free!</p>

</div>
  </div>
<p>If uses:</p>

<ul>
<li>jQuery
<li>Bootstrap + the bootstrap modal plugin
<li>the excellent <a href="http://craig.is/killing/mice" target="mousetrap">MouseTrap library</a>
</ul>

<p>I was also inspired by and borrowed some styles from:</p> 

<a target="_blank" href="http://www.impressivewebs.com/demo-files/question-mark-js/">http://www.impressivewebs.com/demo-files/question-mark-js/</a></p>


<div class="row">

<div class="col-md-3">
<div id="sidemenu">
          <ul class="nav nav-stacked" data-spy="affix" data-offset-top="480">
            <li class="active"><a href="#magichelp">Magic Help</a></li>
            <li><a href="#page">Page actions</a></li>
            <li><a href="#list">List actions</a></li>
            <li><a href="#groups">Shhortcut Groups</a></li>
            <li><a href="#search">Action search</a></li>
            <li><a href="#escape">Escape</a></li>
            <li><a href="#custom">Custom</a></li>
          </ul>
</div>
</div>
<div class="col-md-9">

<h2 id="magichelp">Magic help</h2>

<p>Get awesome keyboard shortcut help 100% for free. Just press <kbd>?</kbd> on any page to show help dynamically generated and customised to the exact keyboard actions that are availale on each page.</p>

<h4>Disabled shortcuts</h4>

<p>Sometimes you want to show that an action is generally available, but not on this particular page.</p>

<pre>
<code>&lt;div <b>data-mk-disabled="ctrl+q"</b> title="Logout of this application"&gt;&lt;/div&gt;</code>
</pre>

<div data-mk-disabled="ctrl+q" title="Logout of this application"></div>

<h2 id="page">Page actions, eg search</h2>

<p>Add a <code>data-mk-*</code> attribute to any element, and it will wire up a click or focus event when that key is pressed. The magic help system will look at the text, value, or title of that element to generate the help text.</p>

<p>Press the ubiquitous <kbd>/</kbd> key to focus on the search</p>

<p>It would look for a label, or a title attribute on the element to auto generate the help text</p>

<pre><code>&lt;input type="search" <b>data-mk-focus="/"</b> placeholder="Look for stuff"&gt;</code></pre>

<form class="form-inline" role="form">
  <div class="form-group">
    <label class="sr-only" for="s">Search</label>
    <input type="search" data-mk-focus="/" class="form-control" id="s" placeholder="Look for stuff">
  </div>
  <button type="submit" class="btn btn-primary">Search</button>
</form>

<p>Another common example would be navigating to a next or previous page. </p>

<pre><code>&lt;a <b>data-mk-click="&lt;/p"</b> href="?prev"&gt;Previous page&lt;/a&gt;</code></pre>

<div class="btn-group">
<a data-mk-click="</p" class="btn btn-default" href="?prev"><i class="glyphicon glyphicon-chevron-left"></i> Previous page</a>
<a data-mk-click=">/n" class="btn btn-default" href="?next">Next page <i class="glyphicon glyphicon-chevron-right"></i></a>
</div>

<p>This example also demonstrates another feature, you can declare more than one keyboard shortcut by
 seperating them with a <code>/</code>. Note that you can still register <kbd>/</kbd> to mean something,
 typically focus on search, but you can't use / in a multi charcter sequence, but this is a probably good thing. </p>

<p>Any of the cool features of Mousetrap are available, including key sequences. To trigger a click on this button type out 'alert':</p>

<button id="alert" data-mk-click="a l e r t" class="btn btn-success">Show an alert</button>
<script>
$('#alert').click(function(){
    alert("Yay! You've been alerted");
});
</script>

<h2 id="list">Lists actions</h2>

<p>Often you have a main list of 'things',eg emails in gmail, issues in github or jira, etc.
 List actions apply to only one item in a list. Declare a list by add <code>data-mk-list</code> to the containing
 parent element, eg an <code>&lt;ul&gt;</code> but it can be any element type:</p>

<pre><code>&lt;ul <b>data-mk-list="email"</b>&gt;
  &lt;li&gt;item1
  &lt;li&gt;item2
  ...
&lt;/ul&gt;
&lt;!-- list actions go here --&gt;
</code></pre>

<p>By declaring a list it automatically registers <kbd>j</kbd> and <kbd>k</kbd> to move up and down. If no item is
 selected <kbd>j</kbd> will select the first item, and <kbd>k</kbd> will select the last item. The selected item will be given a class
 of <code>mk-focus</code> and if needed the page will scroll so it is visible.</p>

<p>Next you can declare as many list actions as you want for each list, these are declared the same as before but with one
 extra attribute which declares a selector for where the event will get sent to:<p>

<pre><code>&lt;div data-mk-click="t" <b>data-mk-target="[type=checkbox]"</b> title="Select an email"&gt;&lt;/div&gt;</code></pre>

<p>These items get declared <b>after</b> the list parent has closed, and <b>MUST</b> be siblings to the list element. Any declarations which have a target which become attached the the most recently declared list.</p>


<p>In the example below you can press <kbd>space</kbd> or <kbd>x</kbd> to toggle selection of the current item,
 <kbd>e</kbd> to focus on it's input to edit it, and
 <kbd>enter</kbd> to navigate into the item's link.</p>

<div data-mk-group="Email shortcuts">

<ul data-mk-list="email" class="list-group">
<li class="list-group-item"><input type="checkbox"> <a href="?email1">This is email #1</a> <input type="text" value="stuff1">
<li class="list-group-item"><input type="checkbox"> <a href="?email2">This is email #2</a> <input type="text" value="stuff2">
<li class="list-group-item"><input type="checkbox"> <a href="?email3">This is email #3</a> <input type="text" value="stuff3">
<li class="list-group-item"><input type="checkbox"> <a href="?email4">This is email #4</a> <input type="text" value="stuff4">
<li class="list-group-item"><input type="checkbox"> <a href="?email5">This is email #5</a> <input type="text" value="stuff5">
</ul>

<div data-mk-click="x"     data-mk-target="[type=checkbox]" title="Select an email"></div>
<div data-mk-click="enter" data-mk-target="a"               title="Open email"     ></div>
<div data-mk-focus="e"     data-mk-target="[type=text]"     title="Edit an email"  ></div>

</div>

<h2 id="groups">Shortcut groups</h2>

<p>Often you'll want to group shortcuts together in the help modal. This is really easy, just add a <code>data-mk-group</code> attribute to any
 ancestor element to group any actions declared inside that element. You can reuse the same group name if you want.</p>

<pre><code>&lt;div <b>data-mk-group="Email shortcuts"</b>&gt;

... email stuff

&lt;/div&gt;</code></pre>

<div data-mk-group="email">

... email stuff

</div>



<h2 id="search">Action search</h2>

<p>This was inspired by Jira, just press <kbd>.</kbd> or <kbd>,</kbd> key to bring up a search box of actions
 that can be applied to this page. All existing shortcuts are automatically available in this list of actions,
 but you can declare an link, button, or form to be a page action by adding the <code>data-mk-action</code>
 attribute to it, or to it's ancestor. So you could add it to the root element of a drop down menu to attach
 all the items in it.</p>

<pre><code>&lt;div <b>data-mk-action</b>&gt;
&lt;a class="btn" href="#"&gt;Send to cleaners&lt;/a&gt;
&lt;a class="btn" href="#"&gt;Send to dog minder&lt;/a&gt;
&lt;/div&gt;
</code></pre>

<div data-mk-actions>
<a class="btn" href="#">Send to cleaners</a>
<a class="btn" href="#">Send to dog minder</a>
</div>

<h2 id="escape">Universal escape</h2>

<p>The <kbd>escape</kbd> button should be the universal 'back out 1 level' button, like the iPhone home button. 
 It is overridden so if you are in an input and hit it, it blurs the input WITHOUT removing it's value. If you
 are inside a list then it focuses on the list item. If you hit it again that blurs so you are at the 'screen'
 level. Only then will any custom escape handler you've registered get exectued.</p> 


<h2 id="custom">Custom shortcuts</h2>

<p>You may already have some keyboard support, or the magic stuff just isn't magic
 enough so you roll some stuff using MouseTrap directly or something else entirely. But you still want these
shortcuts to appear in the generated help screen along with everything else. You can
 declare these external shortcuts like this:</p>

<pre><code>&lt;div <b>data-mk-noop="ctrl+alt+del"</b> title="Some non-magical keyboard shortcut"&gt;&lt;/div&gt;</code></pre>

<div data-mk-noop="ctrl+alt+del" title="Some non-magical keyboard shortcut"></div>


<h2 id="feedback">Feedback</h2>

<p>Grab the magic here:
<p><a href="https://github.com/brendanheywood/magic-keyboard">https://github.com/brendanheywood/magic-keyboard</a></p>


</div><!-- end 9 -->
</div><!-- end .row -->

</div><!-- end .container -->

<script src="bootstrap/dist/js/bootstrap.js"></script>
<script src="mousetrap/mousetrap.min.js"></script>
<script src="mousetrap/plugins/global-bind/mousetrap-global-bind.js"></script>
<script src="js/magic-keyboard.js"></script>
</body>
</html>
